<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Django</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Dario Necco">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/admonitions.css">		
		<link rel="stylesheet" href="dist/theme/nalug.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
        <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">-->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
		
		<!-- Third Party Plugin for copy code snippet -->
		<link rel="stylesheet" href="plugin/copycode/copycode.css">

        <style>
            .copy-code-button {
                color: #272822;
                background-color: #FFF;
                border-color: #272822;
                border: 2px solid;
                border-radius: 3px 3px 0px 0px;
            
                /* right-align */
                display: block;
                margin-left: auto;
                /* margin-right: -18px; */
                /* margin-bottom: -60px; */
                margin-right: 0px;
                margin-bottom: -45px;
                padding: 3px 8px;
                font-size: 0.4em;
            }
            
            .copy-code-button:hover {
                cursor: pointer;
                background-color: #F2F2F2;
            }
            
            .copy-code-button:focus {
                /* Avoid an ugly focus outline on click in Chrome,
                   but darken the button for accessibility.
                   See https://stackoverflow.com/a/25298082/1481479 */
                background-color: #E6E6E6;
                outline: 0;
            }
            
            .copy-code-button:active {
                background-color: #D9D9D9;
            }
            
            .highlight pre {
                /* Avoid pushing up the copy buttons. */
                margin: 0;
            }
        </style>

	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

                <section data-background-image="Django/nalug.png">
<p><img alt="" src="Django/django.png"/></p>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="about-me">About me</h1>
<p><img alt="" src="common/me.jpg"/></p>
<ul>
<li>Principal Technical Consultant Engineer @ Perforce</li>
<li><a href="https://www.linkedin.com/in/dartie/">https://www.linkedin.com/in/dartie/</a></li>
<li>Member of Nalug (<a href="https://www.nalug.tech/">https://www.nalug.tech/</a>)</li>
<li>Python and Go(lang) developer</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="introduction">Introduction</h1>
<ul>
<li>
<p>Django is a Python-based free and open-source web framework that follows the model–template–views architectural pattern. It is maintained by the Django Software Foundation, an independent organization established in the US as a 501 non-profit.</p>
</li>
<li>
<p>Created in 2003, by the Lawrence Journal-World newspaper, Adrian Holovaty and Simon Willison</p>
</li>
<li>
<p>Released publicly under a BSD license in July 2005</p>
</li>
<li>
<p>The framework was named after guitarist Django Reinhardt.</p>
</li>
<li>
<p>In June 2008, it was announced that a newly formed Django Software Foundation (DSF) would maintain Django in the future.</p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="django-mtv">Django MTV</h1>
<p>Django follows MVC pattern very closely but it uses slightly different terminology. Django is essentially an MTV (Model-Template-View) framework. Django uses the term Templates for Views and Views for Controller. In other words, in Django views are called templates and controllers are called views.</p>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="mvc">MVC</h1>
<p>MVC architecture divides an application into the following three layers:</p>
<ol>
<li>Model</li>
<li>View</li>
<li>Controller</li>
</ol>
<p><img alt="" src="Django/mvc.png"/></p>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="model">Model</h2>
<ul>
<li>Models represents how data is organized in the database. </li>
<li>In MVC pattern we use models to define our database tables as well as the relationships between them.</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="views">Views</h2>
<ul>
<li>
<p>A view is what you see when you visit a site. </p>
</li>
<li>
<p>For example, a blog post, a contact form etc, are all examples of views. </p>
</li>
<li>
<p>A View contains all the information that will be eventually sent to the client i.e a web browser. Generally, views are HTML documents.</p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="controller">Controller</h2>
<ul>
<li>
<p>Controller controls the flow of information. </p>
</li>
<li>
<p>When you request a page that request is passed to the controller then it uses programmed logic to decide what information is needed to pull from the database and what information should it pass to the view. The controller is the heart of the MVC architecture because it acts as a glue between models and views.</p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="steps-involved-in-an-mvc-application">Steps involved in an MVC application</h2>
<ol>
<li>
<p>Web browser or client sends the request to the web server, asking the server to display a blog post.</p>
</li>
<li>
<p>The request received by the server is passed to the controller of the application.</p>
</li>
<li>
<p>The controller asks the model to fetch the blog post.</p>
</li>
<li>
<p>The model sends the blog post to the controller.</p>
</li>
<li>
<p>The controller then passes the blog post data to the view.</p>
</li>
<li>
<p>The view uses blog post data to create an HTML page.</p>
</li>
<li>
<p>At last, the controller returns the HTML content to the client.</p>
</li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="note">Note</h2>
<ul>
<li>Django calls <strong>Controller</strong> the "view", and the <strong>View</strong> the "template"</li>
</ul>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<h1 id="get-vs-post-request">GET vs POST request</h1>
<ul>
<li><code class="inline">GET</code>: is used to request data from a specified resource (not modify).<ul>
<li>GET requests can be cached and remain in the browser history</li>
<li>GET requests can be bookmarked</li>
<li>GET requests should never be used when dealing with sensitive data</li>
<li>GET requests have length restrictions</li>
</ul>
</li>
</ul>
<pre class="highlight"><code class="inline">/test/demo_form.php?name1=value1&amp;name2=value2</code></pre>
<ul>
<li><code class="inline">POST</code>: is used to send data to a server to create/update a resource.<ul>
<li>POST requests are never cached and don't remain in the browser history</li>
<li>POST requests cannot be bookmarked</li>
<li>POST requests have no restrictions on data length</li>
</ul>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="why-django">Why Django</h1>
<ul>
<li>
<p>Among others python web frameworks (flask, fastapi, etc), it provides everything out-of-box: database, authentication, template engine.</p>
</li>
<li>
<p>It allows to switch easily from a database to another (by default sqlite3 is used)</p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="installation-and-setup">Installation and Setup</h1>
<h3 id="1-create-virtual-environment">1 - Create virtual environment</h3>
<pre class="highlight"><code class="language-bash"># Install virtualenv module
pip3 install virtualenv

# Create virtual environment
virtualenv ${virtual-environment-name}   

# Activate virtual environment
source ${virtual-environment-name}/bin/activate  #    Linux
${virtual-environment-name}\Scripts\activate.bat #    Windows</code></pre>
<h3 id="2-install-django">2 - Install Django</h3>
<pre class="highlight"><code class="language-bash">pip3 install django</code></pre>
<h3 id="3-create-django-project">3 - Create Django project</h3>
<pre class="highlight"><code class="language-bash"># create django project
django-admin startproject ${project-name} . </code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>Supposing we call the project "core"
<pre class="highlight"><code class="inline">&lt;current-folder&gt;/
│
└── core/
    │
    ├── core/
    │   ├── __init__.py
    │   ├── asgi.py
    │   ├── settings.py
    │   ├── urls.py
    │   └── wsgi.py
    │
    └── manage.py</code></pre></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>If the dot is omitted, the additional top-level project folder is avoided
<pre class="highlight"><code class="inline">&lt;current-folder&gt;/
│
├── core/
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
│
└── manage.py</code></pre></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="4-create-django-app">4 - Create Django app</h3>
<ul>
<li>Django is formed of apps, which allow to keep the source code separated and organized.</li>
</ul>
<pre class="highlight"><code class="language-bash">django-admin startapp ${app-name}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<pre class="highlight"><code class="inline">&lt;project-folder&gt;/
│
├── example/
│   │
│   ├── migrations/
│   │   └── __init__.py
│   │
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── models.py
│   ├── tests.py
│   └── views.py
│
├── &lt;project-name&gt;/
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
│
└── manage.py</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<pre class="highlight"><code class="language-bash" data-line-numbers="18|19|13|11|5" >&lt;project-folder&gt;/
│
├── example/
│   │
│   ├── migrations/
│   │   └── __init__.py
│   │
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── models.py
│   ├── tests.py
│   └── views.py
│
├── &lt;project-name&gt;/
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
│
└── manage.py</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="5-declare-app-in-django-project">5 - Declare app in Django project</h3>
<ul>
<li>In <code class="inline">/settings.py</code>, to <strong>INSTALLED_APPS</strong> list, add:</li>
</ul>
<pre class="highlight"><code class="language-bash">'app.apps.AppConfig'  # main app</code></pre>
<p>where:</p>
<ul>
<li><code class="inline">app</code> is the folder name</li>
<li><code class="inline">apps</code> refers to <code class="inline">app\apps.py</code></li>
<li><code class="inline">AppConfig</code> is the Class name</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="6-set-template-folder">6 - Set template folder</h3>
<ul>
<li>
<p>In <code class="inline">/settings.py</code>, to <strong>TEMPLATES</strong> list, add the template path:
</p><pre class="highlight"><code class="language-bash">TEMPLATES = [
    {
        ...
        'DIRS': [os.path.join(BASE_DIR, 'templates')],  # new
        ...
    },
]</code></pre>
</li>
<li>
<p>Create <code class="inline">templates</code> folder in the project root</p>
</li>
<li>
<p>The template engine is <code class="inline">jinja2</code></p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="7-apply-the-changes">7 - Apply the changes</h3>
<pre class="highlight"><code class="language-bash">python manage.py makemigrations
python manage.py migrate</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="8-create-the-first-user-admin">8 - Create the first user (admin)</h3>
<pre class="highlight"><code class="language-bash">python manage.py createsuperuser</code></pre>
<p>or </p>
<pre class="highlight"><code class="language-bash">python manage.py createsuperuser --username ${username} --email ${email}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="9-run-django-server">9 - Run Django server</h3>
<pre class="highlight"><code class="language-bash">python manage.py runserver</code></pre>
<ul>
<li>
<p>specify additional info</p>
<pre class="highlight"><code class="language-bash">python manage.py runserver ${clientIP}:${port}</code></pre>
<pre class="highlight"><code class="language-bash">python manage.py runserver 0.0.0.0:8000</code></pre>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="inline">0.0.0.0</code> allows the connection from all clients, however check that <code class="inline">ALLOWED_HOSTS</code> is set to <code class="inline">["*"]</code> in the <code class="inline">/settings.py</code> file.</p>
</div>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="9-create-the-first-route">9 - Create the first route</h3>
<ul>
<li><code class="inline">/urls.py</code></li>
</ul>
<pre class="highlight"><code class="language-python">from django.contrib import admin
from django.urls import path, include
from app import views
from django.contrib.auth import views as auth_views

urlpatterns = [
    path('hello/', views.hello, name='hello')
]</code></pre>
<ul>
<li><code class="inline">/views.py</code></li>
</ul>
<pre class="highlight"><code class="language-python">from django.shortcuts import render, redirect
from django.contrib.auth.decorators import login_required
from django.http import JsonResponse, FileResponse, Http404, HttpResponse

def hello(request):
    if request.method == "GET":
        return HttpResponse("Hello World!")</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="use-static-files">Use static files</h1>
<ul>
<li>
<p>It allows to serve static files (js, image, css, etc.)</p>
</li>
<li>
<p>Per Django structure, static files are located in each app</p>
</li>
<li>
<p>Collect all apps' static files into the main static folder</p>
</li>
</ul>
<pre class="highlight"><code class="language-python">python manage.py collectstatic --noinput --clear</code></pre>
<ul>
<li>Use static files in template for rendering</li>
</ul>
<pre class="highlight"><code class="language-html">{% load static %}

...

&lt;link rel="stylesheet" href="{% static "css/style.css" %}"&gt;</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="settingspy-configuration"><code class="inline">settings.py</code> configuration</h2>
<ul>
<li><a href="https://docs.djangoproject.com/en/4.0/howto/static-files/">Django - How to manage static files</a></li>
</ul>
<pre class="highlight"><code class="language-python">PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
STATIC_ROOT = os.path.join(PROJECT_ROOT, 'staticfiles')
STATIC_URL = '/static/'

# Extra lookup directories for collectstatic to find static files
STATICFILES_DIRS = (
    os.path.join(PROJECT_ROOT, 'static'),
)</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<h1 id="additional-settings-settingspy">Additional settings (<code class="inline">/settings.py</code>)</h1>
<ul>
<li>Allow all hosts to connect:</li>
</ul>
<pre class="highlight"><code class="language-python">ALLOWED_HOSTS = ['*']</code></pre>
<ul>
<li>Enable/disable DEBUG: Detailed error pages: if your app raises an exception when DEBUG is True, Django will display a detailed traceback, including a lot of metadata about your environment</li>
</ul>
<pre class="highlight"><code class="language-python">DEBUG = True</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>• <code class="inline">DEBUG = True</code> exposes the server to security flaws</p>
<p>• Due to storage of each SQL query execution and other debug info, it consumes more memory on a production server.</p>
</div>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="django-admin-interface">Django Admin interface</h1>
<ul>
<li>connect to <code class="inline">/admin/</code> route (e.g.: <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a>)</li>
</ul>
<p><img alt="" src="Django/django-admin.png"/></p>
</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="store-data-into-the-database-models">Store data into the database (models)</h1>
<ul>
<li>Database connection settings in <code class="inline">/settings.py</code></li>
</ul>
<pre class="highlight"><code class="language-python"># Database
# https://docs.djangoproject.com/en/4.0/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}</code></pre>
<ul>
<li>
<p>The database file is created at the django project level</p>
</li>
<li>
<p><a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Models">Mozilla - Django Models</a></p>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="supported-databases">Supported databases</h2>
<ul>
<li>PostgreSQL</li>
<li>MySQL</li>
<li>SQLite</li>
<li>Oracle</li>
<li>MariaDB</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="create-a-new-table">Create a new table</h1>
<ol>
<li>Edit <code class="inline">/models.py</code> adding classes (tables) and fields.</li>
<li>Apply the changes with</li>
</ol>
<pre class="highlight"><code class="language-python">python manage makemigrations  # creates migrations files
python manage migrate         # execute migrations scripts</code></pre>
<ul>
<li>Fields reference: <a href="https://docs.djangoproject.com/en/4.0/ref/models/fields/#field-options">Model field reference</a></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<pre class="highlight"><code class="language-python">from django.db import models

class Musician(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    instrument = models.CharField(max_length=100)

class Album(models.Model):
    artist = models.ForeignKey(Musician, on_delete=models.CASCADE)
    name = models.CharField(max_length=100)
    release_date = models.DateField()
    num_stars = models.IntegerField()</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="advanced-topics">Advanced topics</h1>
<h2 id="models-options">Models Options</h2>
<ul>
<li>Order fields, verbose names</li>
</ul>
<p><code class="inline">-</code> prefix, which indicates descending order.</p>
<pre class="highlight"><code class="language-python">ordering = ['-release_date']</code></pre>
<ul>
<li>Assign a custom name to db table: by default, the table name is formed of <code class="inline">&lt;app-name&gt;&lt;Model-Class-Name&gt;</code> all lowercase.</li>
</ul>
<pre class="highlight"><code class="language-python">class Person(models.Model):
    class Meta:
        db_table = 'my_table'</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li><code class="inline">verbose_name</code> and <code class="inline">verbose_name_plural</code></li>
</ul>
<p>If you create a database table called 'Child' and register it in the admin.py file and go to the admin page, you'll see 'Childs'.</p>
<pre class="highlight"><code class="language-python">class Child(models.Model):
    name= models.CharField(max_length=100, verbose_name="Child's First Name and Last Name")
    weight= models.DecimalField(max_digits=3, decimal_places=2)

    class Meta:
        verbose_name = 'Child'
        verbose_name_plural = 'Children'</code></pre>
<ul>
<li><a href="https://docs.djangoproject.com/en/4.0/ref/models/options">Django - Model Options</a></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="override-default-methods">Override default methods</h2>
<ul>
<li><code class="inline">save()</code></li>
<li><code class="inline">delete()</code></li>
<li><code class="inline">__str__()</code></li>
</ul>
<pre class="highlight"><code class="language-python">from django.db import models

# importing slugify from django
from django.utils.text import slugify

# Create your models here.
class GeeksModel(models.Model):
    title = models.CharField(max_length = 200)
    slug = models.SlugField()

    def save(self, *args, **kwargs):
        self.slug = slugify(self.title)
        super(GeeksModel, self).save(*args, **kwargs)</code></pre>
<p><a href="https://docs.djangoproject.com/en/4.0/topics/db/models/">Django - Models</a></p>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="methods-in-model-classes">Methods in Model classes</h2>
<ul>
<li>Custom Models methods can be written </li>
</ul>
<pre class="highlight"><code class="language-python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    birth_date = models.DateField()

    def is_infant(self):
        import datetime
        if int((date.today() - birthDate).days / days_in_year) &lt;= 1:
            return True
        else:
            return False

    @property
    def full_name(self):
        "Returns the person's full name."
        return '%s %s' % (self.first_name, self.last_name)</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li><code class="inline">@property</code> decorator allows to use it as a property, rather than a method</li>
</ul>
<pre class="highlight"><code class="language-python">Person.full_name
# instead of
Person.full_name()</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="routing-urlspy">Routing (<code class="inline">urls.py</code>)</h1>
<pre class="highlight"><code class="language-python">from django.contrib import admin
from django.urls import path
from app import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('my-route/', views.my_view),
]</code></pre>
<ul>
<li>
<p>When route <code class="inline">/my-route/</code> is hit, function <code class="inline">my_view</code> in <code class="inline">view.py</code> is called.</p>
</li>
<li>
<p><code class="inline">name</code> keyword, allows to give a name to the url and refer to it by name in controller or template</p>
</li>
</ul>
<pre class="highlight"><code class="language-python">redirect('app.main')</code></pre>
<pre class="highlight"><code class="language-html">&lt;a href="{% url 'app.main' %}"&gt;Go to main&lt;/a&gt;</code></pre>
<ul>
<li><a href="https://docs.djangoproject.com/en/4.0/topics/http/urls">urls</a></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="variables-in-route">Variables in route</h2>
<pre class="highlight"><code class="language-python">from django.contrib import admin
from django.urls import path
from app import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('my-route/&lt;int:variable&gt;', views.my_view),
]</code></pre>
<ul>
<li>Multiple combinations can now hit our route: <code class="inline">my-route/1</code> is a valid one.</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<p>Types accepted:</p>
<ul>
<li><code class="inline">str</code> - Matches any non-empty string, excluding the path separator, '/'. This is the default if a converter isn’t included in the expression.</li>
<li><code class="inline">int</code> - Matches zero or any positive integer. Returns an int.</li>
<li><code class="inline">slug</code> - Matches any slug string consisting of ASCII letters or numbers, plus the hyphen and underscore characters. For example, building-your-1st-django-site.</li>
<li><code class="inline">uuid</code> - Matches a formatted UUID. To prevent multiple URLs from mapping to the same page, dashes must be included and letters must be lowercase. For example, 075194d3-6885-417e-a8a8-6c931e272f00. Returns a UUID instance.</li>
<li><code class="inline">path</code> - Matches any non-empty string, including the path separator, '/'. </li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="bypass-viewspy">Bypass views.py</h2>
<pre class="highlight"><code class="language-python">from django.urls import path
from django.views.generic import TemplateView

urlpatterns = [
    path('about/', TemplateView.as_view(template_name="about.html")),
]</code></pre>
<p><code class="inline">TemplateView.as_view(template_name="about.html")</code> allows to render the template <code class="inline">about.html</code></p>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="controller-viewspy">Controller (<code class="inline">views.py</code>)</h1>
<pre class="highlight"><code class="language-python">from django.shortcuts import render, redirect
from django.contrib.auth.decorators import login_required
from django.http import JsonResponse, FileResponse, Http404, HttpResponse
from django.contrib.auth import get_user_model
from django.contrib.auth.models import User
from django.core.files.storage import FileSystemStorage
from app.models import Table

@login_required
def my_view(request, mode):
    if request.method == "GET":
        return HttpResponse("Hello World!")</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="decorators">Decorators</h2>
<ul>
<li>
<p>Function that takes another function and extends the behavior of the latter function without explicitly modifying it.</p>
</li>
<li>
<p>Decorators provide a simple syntax for calling higher-order functions.</p>
</li>
<li>
<p><code class="inline">@login_required</code> allows to render the webpage only if the user is authenticated.</p>
<pre class="highlight"><code class="language-python">from django.contrib.auth.decorators import login_required

@login_required
def my_view(request, mode):
    # ...</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p><code class="inline">@require_http_methods</code> restricts access to views based on the request method. </p>
<pre class="highlight"><code class="language-python">from django.views.decorators.http import require_http_methods

@require_http_methods(["GET", "POST"])
def my_view(request):
    # I can assume now that only GET or POST requests make it this far
    # ...
    pass</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="custom-decorators">Custom decorators</h2>
<ul>
<li>Custom decorators can be written for achieving different scopes.</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="render-a-template">Render a template</h1>
<ul>
<li><code class="inline">views.py</code>
<pre class="highlight"><code class="inline">from django.shortcuts import render, redirect
from django.contrib.auth.decorators import login_required
from django.http import JsonResponse, FileResponse, Http404, HttpResponse
from django.contrib.auth import get_user_model
from django.contrib.auth.models import User
from django.core.files.storage import FileSystemStorage
from app.models import Table

@login_required
def my_view(request, mode):
    if request.method == "GET":
        name = "Dario"
        return render(request, "Template.html.jinja", {"name": name})</code></pre></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li><code class="inline">/template/Template.html.jinja2</code></li>
</ul>
<pre class="highlight"><code class="language-html">&lt;!doctype html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;!-- Required meta tags --&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;/head&gt;
&lt;body&gt;
    Hello {{ name }}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h2 id="template-organization">Template organization</h2>
<h3 id="extends">extends</h3>
<ul>
<li><code class="inline">base.html.jinja2</code></li>
</ul>
<pre class="highlight"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;!-- Required meta tags --&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Title&lt;/title&gt;
  &lt;/head&gt;
 &lt;body&gt;

    {% block content %}

    {% endblock %} 

  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li><code class="inline">home.html.jinja2</code></li>
</ul>
<pre class="highlight"><code class="language-html">{% extends 'base.html.jinja2' %}

{% block content %}

&lt;h1&gt;Homepage&lt;/h1&gt;

{% endblock %}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="includes">includes</h3>
<ul>
<li><code class="inline">navbar.html.jinja2</code></li>
</ul>
<pre class="highlight"><code class="language-html">&lt;!--Navbar--&gt;
&lt;nav class="navbar navbar-expand-sm navbar-light bg-light"&gt;
  ...
&lt;/nav&gt;</code></pre>
<ul>
<li><code class="inline">home.html.jinja2</code></li>
</ul>
<pre class="highlight"><code class="language-html">{% extends 'base.html.jinja2' %}

{% block content %}
{% include 'navbar.html.jinja2' %}

&lt;h1&gt;Homepage&lt;/h1&gt;

{% endblock %}</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h2 id="template-syntax-jinja2">Template syntax (Jinja2)</h2>
<h3 id="variable">Variable</h3>
<ul>
<li>string</li>
</ul>
<pre class="highlight"><code class="language-html">{{ variable }}</code></pre>
<ul>
<li>Objects use dot notation</li>
</ul>
<pre class="highlight"><code class="language-html">{{ my_dict.key }}
{{ my_object.attribute }}
{{ my_list.0 }}</code></pre>
<ul>
<li>Comment</li>
</ul>
<pre class="highlight"><code class="language-html">{# this won't be rendered #}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>Filters: transform the values of variables and tag arguments</li>
</ul>
<pre class="highlight"><code class="language-html">{{ variable|title }}</code></pre>
<p><code class="inline">django -&gt; Django</code></p>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="custom-filters">Custom Filters</h1>
<ol>
<li>Create the folder <code class="inline">templatetags</code> in your app
    <pre class="highlight"><code class="inline">my_app/
├── templatetags/
│   ├── __init__.py
│   └── app_filters.py</code></pre>
    where <code class="inline">__init__.py</code> is an empty file</li>
<li>Populate <code class="inline">app_filters.py</code> with the content
    <pre class="highlight"><code class="language-python">from django import template
from base64 import b64encode

register = template.Library()

@register.filter(name='bin_2_img')
def bin_2_img(_bin):
    if _bin is not None:
        return b64encode(_bin).decode('utf-8')</code></pre></li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="use-the-custom-filter">Use the custom filter</h2>
<pre class="highlight"><code class="language-html">{% load 'app_filters' %}

&lt;img src="data:image;base64,{{ user.profile.picture | bin_2_img }}"&gt;             </code></pre>
<ul>
<li><a href="https://docs.djangoproject.com/en/4.0/howto/custom-template-tags/">Django - custom-template-tags</a></li>
<li>If name argument is omitteed, Django will use the function’s name as the filter name.</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="conditions-if-elif-and-else">Conditions (if, elif, and else)</h2>
<pre class="highlight"><code class="language-html">{% if athlete_list %}
    Number of athletes: {{ athlete_list|length }}
{% elif athlete_in_locker_room_list %}
    Athletes should be out of the locker room soon!
{% else %}
    No athletes.
{% endif %}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="list-iteration-for-loop">List Iteration (For loop)</h2>
<pre class="highlight"><code class="language-html">&lt;ul&gt;
{% for athlete in athlete_list %}
    &lt;li&gt;{{ athlete.name }}&lt;/li&gt;
{% endfor                      %}
&lt;/ul&gt;</code></pre>
<h2 id="dictionary-iteration">Dictionary iteration</h2>
<pre class="highlight"><code class="language-html">&lt;ul&gt;
{% for name, age in athlete_dict.items %}
    &lt;li&gt;{{ name }} - Age : {{ age }}&lt;/li&gt;
{% endfor                                      %}
&lt;/ul&gt;</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="get-user-information-in-the-template">Get user information in the template</h2>
<ul>
<li><code class="inline">user</code> variable is always available by default in the template: it allows to get info about the logged user.</li>
</ul>
<pre class="highlight"><code class="language-html">{{ user.first_name }}</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="submit-info-from-webpage-to-the-server">Submit info (from webpage to the server)</h1>
<ul>
<li><code class="inline">POST</code> method is used</li>
<li>
<p><code class="inline">csrf_token</code> is required: <a href="https://docs.djangoproject.com/en/4.0/ref/csrf/">CSRF</a></p>
</li>
<li>
<p><code class="inline">myTemplate.html.jinja2</code>
</p><pre class="highlight"><code class="language-html">&lt;form id="myForm" action="/my-url/" method="POST" enctype="multipart/form-data"&gt;
{% csrf_token %}

    &lt;input type="text" id="fname" name="fname"&gt;
    &lt;input type="text" id="lname" name="lname[]"&gt;
&lt;!-- ... --&gt;
&lt;/form&gt;    </code></pre>
</li>
<li>
<p><code class="inline">views.py</code>
</p><pre class="highlight"><code class="inline">request.POST.get('fname')
request.POST.getlist('lname')</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h1 id="ajax">AJAX</h1>
<pre class="highlight"><code class="language-javascript">/* AJAX definition */
function AJAX(url, data, method='GET', async=true){
    return new Promise(function(resolve, reject) {
        var formData = new FormData();

        for (var key in data) {
            // check if the property/key is defined in the object itself, not in parent
            if (data.hasOwnProperty(key)) {
                formData.append(key, data[key]);
            }
        }

        var xhr = new XMLHttpRequest();

        xhr.onload = function() {
            resolve(this.responseText);
        };
        xhr.onerror = reject;
        xhr.open(method, url, async);
        xhr.send(formData);
    });
}</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<pre class="highlight"><code class="language-javascript">/* AJAX call */
let settings_dict = {};
settings_dict['refresh_timeout'] = timeout;

let settings_json = JSON.stringify(settings_dict);

AJAX("/route/" + settings_json, "POST")
.then(function(result) {
    // Code depending on result
    ;
})
.catch(function() {
    // An error occurred
});</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="store-and-retrieve-data">Store and retrieve data</h1>
<ul>
<li>Supposing this model</li>
</ul>
<pre class="highlight"><code class="language-python">class Person(models.Model):
    first_name = models.CharField(...)
    last_name = models.CharField(...)
    birth_date = models.DateField(...)</code></pre>
<h2 id="store">Store</h2>
<pre class="highlight"><code class="language-python">new_person = Person.objects.create(
    first_name="Dario",
    last_name="Necco"
)

new_person.save()</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="retrieve-data-from-the-database">Retrieve data from the database</h2>
<h3 id="1-using-objects">1 - Using objects</h3>
<pre class="highlight"><code class="language-python">person = Person.objects.get(id=1).first()</code></pre>
<pre class="highlight"><code class="language-python">Person.objects.order_by().values_list('first_name')

Person.objects.order_by().values('first_name')

Person.objects.all().values('first_name')</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<h3 id="2-raw-query">2 - Raw query</h3>
<pre class="highlight"><code class="language-python">for p in Person.objects.raw('SELECT * FROM myapp_person'):
    print(p)</code></pre>
<p>or, avoiding the model completely:</p>
<pre class="highlight"><code class="language-python">from django.db import connection, transaction
cursor = connection.cursor()

# Data modifying operation - commit required
cursor.execute("UPDATE app_person SET first_name = 'Dario' WHERE id = 1")
transaction.commit_unless_managed()

# Data retrieval operation - no commit required
cursor.execute("SELECT first_name FROM app_person WHERE id = 1")
row = cursor.fetchone()</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="loginlogout">Login/Logout</h1>
<ul>
<li>
<p>Views for Login/Logout are already available out-of-box</p>
</li>
<li>
<p><code class="inline">urls.py</code>
</p><pre class="highlight"><code class="language-python">from django.contrib import admin
from django.contrib.auth import views as auth_views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('login/', auth_views.LoginView.as_view(), name='login'),
    path('logout/', auth_views.LogoutView.as_view(), name='logout'),
]</code></pre>
</li>
<li>
<p><code class="inline">settings.py</code>
</p><pre class="highlight"><code class="language-python"># Login/Logout redirect
LOGIN_REDIRECT_URL = '/'
LOGOUT_REDIRECT_URL = '/login/'</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p><code class="inline">/templates/registration/login.html</code>
</p><pre class="highlight"><code class="language-html">&lt;form action="/login/" method="POST"&gt;
    {% csrf_token %}
    &lt;div class="form-floating"&gt;
        &lt;input type="text" class="form-control" id="username" name="username" placeholder="Username"&gt;
    &lt;/div&gt;
    &lt;div class="form-floating"&gt;
        &lt;input type="password" class="form-control" id="password" name="password" placeholder="Password"&gt;
    &lt;/div&gt;

    &lt;button class="w-100 btn btn-lg btn-primary" type="submit"&gt;Sign in&lt;/button&gt;
&lt;/form&gt;</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="inline">registration</code> is the default folder for authentication templates    </p>
</div>
</li>
</ul>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<h1 id="extra">Extra</h1>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="extend-django-commands">Extend Django commands</h2>
<ol>
<li>Create <code class="inline">my_custom_command.py</code> in <code class="inline">&lt;project&gt;/&lt;app&gt;/management/commands</code></li>
<li>Write the function in it: it will be executed every time <code class="inline">python manage.py my_custom_command</code> is executed</li>
</ol>
<pre class="highlight"><code class="language-python">from django.core.management.base import BaseCommand
from django.utils import timezone

class Command(BaseCommand):
    help = 'Displays current time'

    def handle(self, *args, **kwargs):
        time = timezone.now().strftime('%X')
        self.stdout.write("It's now %s" % time)</code></pre>
</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h2 id="extend-user-information">Extend User information</h2>
<ul>
<li>
<p><code class="inline">models.py</code></p>
<pre class="highlight"><code class="language-python">class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    role = models.IntegerField(default=0)
    phone = models.CharField(max_length=30, blank=True)
    birth_date = models.DateField(null=True, blank=True)
    picture = models.BinaryField(blank=True)
    signature = models.BinaryField(blank=True)


@receiver(post_save, sender=User)
def create_user_profile(sender, instance, created, **kwargs):
    if created:
        Profile.objects.create(user=instance)


@receiver(post_save, sender=User)
def save_user_profile(sender, instance, **kwargs):
    instance.profile.save()</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p><code class="inline">views.py</code>: Access to all information</p>
<pre class="highlight"><code class="language-python">from django.contrib.auth import get_user_model

UserModel = get_user_model()
all_users = UserModel.objects.all().select_related("profile")</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>Example of retrieving user information with all info</li>
</ul>
<pre class="highlight"><code class="language-python">def get_all_users(key="username"):
    users_dict = {}
    UserModel = get_user_model()
    all_users = UserModel.objects.all().select_related("profile")
    all_roles = Roles.objects.all()

    for user in all_users:
        try:
            user_profile = user.profile
            user_profile_dict = user_profile.__dict__
        except:
            user_profile = None
            user_profile_dict = {}

        user_dict = user.__dict__

        # populate user dictionary
        users_dict[user_dict[key]] = {**user_profile_dict, **user_dict}

    return users_dict</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h2 id="use-https-instead-of-http">Use https instead of http</h2>
<ol>
<li>
<p>Install <a href="https://github.com/FiloSottile/mkcert">mkcert</a>
</p><pre class="highlight"><code class="language-bash">brew install mkcert</code></pre>
<p>for Linux and MacOs, or for Windows:
</p><pre class="highlight"><code class="language-bash">choco install mkcert</code></pre>
</li>
<li>
<p>Generate a certificate
    </p><pre class="highlight"><code class="language-bash">mkcert -cert-file cert.pem -key-file key.pem localhost 127.0.0.1</code></pre>
</li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<ol>
<li>
<p>Configure Django server to work with https</p>
<ol>
<li>
<p>Installed required packages
    </p><pre class="highlight"><code class="language-python">pip install django-extensions Werkzeug</code></pre>
</li>
<li>
<p>Add <code class="inline">django_extensions</code> to the <code class="inline">INSTALLED_APPS</code> list:</p>
<pre class="highlight"><code class="language-python">INSTALLED_APPS = [
    # other apps
    "django_extensions",
]</code></pre>
</li>
</ol>
</li>
<li>
<p>Run the server</p>
<pre class="highlight"><code class="language-bash">python manage.py runserver_plus --cert-file cert.pem --key-file key.pem</code></pre>
</li>
</ol>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h2 id="build-api">Build API</h2>
<ol>
<li>
<p>Install the required package
    </p><pre class="highlight"><code class="language-bash">pip install djangorestframework</code></pre>
</li>
<li>
<p>Create a dedicate app for the api (I called it <code class="inline">api</code>)
    </p><pre class="highlight"><code class="language-bash">django-admin.py startapp api</code></pre>
</li>
<li>
<p>Add <code class="inline">rest_framework</code> and your app to the <code class="inline">INSTALLED_APPS</code> list:</p>
<pre class="highlight"><code class="language-python">INSTALLED_APPS = [
    # other apps
    "rest_framework",       # &lt;-- rest_framework
    'example.api',          # &lt;-- project app
]</code></pre>
</li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<ol>
<li>
<p>Apply the changes
    </p><pre class="highlight"><code class="language-bash">python manage.py migrate</code></pre>
</li>
<li>
<p>Add route in <code class="inline">url.py</code>
</p><pre class="highlight"><code class="language-python">from django.urls import path
from myapi.core import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('hello/', views.HelloView.as_view(), name='hello'),  # &lt;-- api
]</code></pre>
</li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<ol>
<li>Add code in the <code class="inline">views.py</code>
<pre class="highlight"><code class="language-python">from rest_framework.views import APIView
from rest_framework.response import Response

class HelloView(APIView):
    def get(self, request):
        content = {'message': 'Hello, World!'}
        return Response(content)</code></pre></li>
</ol>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="add-api-authentication">Add API authentication</h2>
<ul>
<li>Add code in the <code class="inline">views.py</code>
<pre class="highlight"><code class="language-python" data-line-numbers="3,6" >from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated  # &lt;-- Auth

class HelloView(APIView):
    permission_classes = (IsAuthenticated,)             # &lt;-- Auth

    def post(self, request):
        content = {'message': 'Hello, World!'}
        return Response(content)

    def get(self, request):
        content = {'message': 'Hello, World!'}
        return Response(content)</code></pre></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>Add code to <code class="inline">settings.py</code>
<pre class="highlight"><code class="language-python">REST_FRAMEWORK = {
    'DEFAULT_RENDERER_CLASSES': (
        'rest_framework.renderers.JSONRenderer',  # &lt;-- Returns the json instead of a webpage: https://stackoverflow.com/questions/51800895/django-returning-webpage-instead-of-json 
    ),
    'DEFAULT_PARSER_CLASSES': [
        'rest_framework.parsers.JSONParser',  # &lt;- Handles JSON requests
        'rest_framework.parsers.FormParser',  # &lt;- Handles x-www-form-urlencoded requests
    ],
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.TokenAuthentication',  # &lt;-- Auth
    ],</code></pre></li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p>Add route for api-token</p>
<pre class="highlight"><code class="language-python">from django.contrib import admin
from django.urls import path
from myapi.core import views
from rest_framework.authtoken.views import obtain_auth_token            # &lt;-- Request Token


urlpatterns = [
    path('admin/', admin.site.urls),
    path('hello/', views.HelloView.as_view(), name='hello'),            # &lt;-- api
    path('api-token-auth/', obtain_auth_token, name='api_token_auth'),  # &lt;-- Request Token
]</code></pre>
</li>
<li>
<p>Apply the changes
    </p><pre class="highlight"><code class="language-bash">python manage.py migrate</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p>Create a token for a user</p>
<pre class="highlight"><code class="language-bash"># create user
python manage.py createsuperuser --username dartie --email dartie@example.com

# create token: it will return a string to annotate (token)
python manage.py drf_create_token dartie</code></pre>
</li>
<li>
<p>Create a token using python code</p>
<pre class="highlight"><code class="language-python">def generate_or_renew_token(user):
    from rest_framework.authtoken.models import Token

    User_to_update = User.objects.get(username=user)
    token, created = Token.objects.get_or_create(user=User_to_update)  # get token info

    if not created:
        token.delete()  # delete current token
        token, created = Token.objects.get_or_create(user=User_to_update)  # regenerate token

    return token</code></pre>
</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<h2 id="make-requests">Make requests</h2>
<ul>
<li>Using the terminal</li>
</ul>
<pre class="highlight"><code class="language-bash"># BASH
curl http://127.0.0.1:8000/hello/ -H "Authorization: Token 9054f7aa9305e012b3c2300408c3dfdf390fcddf"</code></pre>
<ul>
<li>With python code</li>
</ul>
<pre class="highlight"><code class="language-python"># python
import requests

url = 'http://127.0.0.1:8000/hello/'
headers = {'Authorization': 'Token 9054f7aa9305e012b3c2300408c3dfdf390fcddf'}
r = requests.get(url, headers=headers)</code></pre>
<ul>
<li>Request Token using http python module</li>
</ul>
<pre class="highlight"><code class="language-bash">http post http://127.0.0.1:8000/api-token-auth/ username=vitor password=123</code></pre>
</section>        

</section>        
<section data-background-image="Django/nalug.png">
<section data-background-image="Django/nalug.png">
<h1 id="vscode-configuration">VSCode configuration</h1>
<ul>
<li>
<p><a href="https://code.visualstudio.com/docs/python/tutorial-django">VSCode - Django configuration</a></p>
</li>
<li>
<p>Switch to Run view in VS Code (using the left-side activity bar or F5)</p>
</li>
<li>Click on <code class="inline">create a launch.json file</code> when the message "To customize Run and Debug create a launch.json file" appears</li>
</ul>
</section>        
<section data-background-image="Django/nalug.png">
<ul>
<li>
<p>Configure the file:
    </p><pre class="highlight"><code class="language-json">{
    "name": "Python: Django",
    "type": "python",
    "request": "launch",
    "program": "${workspaceFolder}/manage.py",
    "args": [
        "runserver",
    ],
    "django": true
},</code></pre>
<ol>
<li>If needed, adjust the <strong>manage.py</strong> in <code class="inline">program</code></li>
<li>Add arguments in <code class="inline">args</code>. For example, add the port information:
    <pre class="highlight"><code class="language-json">...
"args": [
    "runserver",
    "0.0.0.0:8000",
],
...</code></pre></li>
</ol>
</li>
</ul>
</section>        

</section>        


			</div>

		</div>

		<script src="dist/reveal.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
        <script src="plugin/copycode/copycode.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/search/search.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		
		<!-- Third-Party Plugin for menu -->
        <script src="plugin/menu/menu.js"></script>

		<script>

			// Also available as an ES module, see:
			// https://revealjs.com/initialization/
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				slideNumber: true,

                copycode: {
                    copy: "Copy",
                    copied: "Copied!",
                    timeout: 1000,
                    copybg: "orange",
                    copiedbg: "green",
                    copycolor: "black",
                    copiedcolor: "white"
                },

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealMenu, CopyCode ]
			});

		</script>
		
		<script>
		function addCopyButtons(clipboard) {
            document.querySelectorAll('pre > code').forEach(function (codeBlock) {
                var button = document.createElement('button');
                button.className = 'copy-code-button';
                button.type = 'button';
                button.innerText = 'Copy';
        
                button.addEventListener('click', function () {
                    clipboard.writeText(codeBlock.innerText).then(function () {
                        /* Chrome doesn't seem to blur automatically,
                           leaving the button in a focused state. */
                        button.blur();
        
                        button.innerText = 'Copied!';
        
                        setTimeout(function () {
                            button.innerText = 'Copy';
                        }, 2000);
                    }, function (error) {
                        button.innerText = 'Error';
                    });
                });
        
                var pre = codeBlock.parentNode;
                if (pre.parentNode.classList.contains('highlight')) {
                    var highlight = pre.parentNode;
                    highlight.parentNode.insertBefore(button, highlight);
                } else {
                    pre.parentNode.insertBefore(button, pre);
                }
            });
        }
        /*
        if (navigator && navigator.clipboard) {
            addCopyButtons(navigator.clipboard);
        } else {
            var script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';
            script.integrity = 'sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';
            script.crossOrigin = 'anonymous';
            script.onload = function() {
                addCopyButtons(clipboard);
            };
        
            document.body.appendChild(script);
        }
        */
		</script>

	</body>
</html>
